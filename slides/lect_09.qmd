---
title: "Chapter 10: Association between random variables"
subtitle: "STAT 1010 - Fall 2022"
footer:  "[stat1010-f22.github.io/website](https://stats1010-f22.github.io/website/)"
format: 
  revealjs: 
    theme: slides.scss
    transition: fade
    slide-number: true
editor: visual
execute:
  freeze: auto
---

```{r include = FALSE}
library(countdown)
library(pdftools)
library(tidyverse)
```

# Learning outcomes

By the end of this lesson you should:

-   Understand the Sharpe ratio and know how to compute it to compare stocks that are not independent

-   

# Revision 1

![](lect_07-images/parameter_estimate.png)

# The Sharpe Ratio

::: notes
often mu and sigma are unknown parameters
:::

$$S(X) = \frac{\mu - r_f}{\sigma}$$

::: incremental
-   $r_f$ is the return on a risk-free investment
-   $\mu$ is the mean of a random variable $X$ that measures the performance of an investment
-   $\sigma$ is the mean of a random variable $X$ that measures the performance of an investment
-   all inputs must be measured over the same time period (ie. yearly, monthly, ...)
:::

## Compute the Sharpe ratio

::: notes
have them go back to the previous slide and see what they got
:::

| Company   | Random Variable | Mean per month | SD    |
|-----------|-----------------|----------------|-------|
| Apple     | A               | 2.45%          | 13.3% |
| McDonalds | M               | 1.14%          | 6.2%  |

assume $r_f$ is the risk-free rate of interest is $0.1\%$

## Compute the Sharpe ratio

::: work through it, then what if we don't know mu and sigma could we find it if we had a pdf? :::

::: incremental
-   $$\begin{aligned}
    S(A) &= \frac{\mu - r_f}{\sigma}\\
    &= \frac{2.45 - 0.1}{13.3}\\
    &=  0.177
    \end{aligned}$$

-   $$\begin{aligned}
    S(M) &= \frac{\mu - r_f}{\sigma}\\
    &= \frac{1.14 - 0.1}{6.2}\\
    &=  0.168
    \end{aligned}$$
:::

## Revision 2

::: notes
find the mean, stdev, and use them to find the Sharpe ratio
:::

Instead of knowing $\mu$ and $\sigma$ we have a pdf

|           | IBM stock | IBM stock  | Microsoft | Microsoft  |
|-----------|-----------|------------|-----------|------------|
|           | $x$       | $P(X = x)$ | $y$       | $P(Y = y)$ |
| Increases | \$5       | 0.11       | \$4       | 0.18       |
| No change | 0         | 0.80       | 0         | 0.67       |
| Decreases | -\$5      | 0.09       | -\$4      | 0.15       |

## The Sharpe ratio - in `R`

```{r mean_stdev}
#| echo: true
#| eval: true

# Input the data and the pdf
stock <- tibble(x = c(5, 0, -5), 
                p_x = c(0.11, 0.8, 0.09), 
                y = c(4, 0, -4), 
                p_y = c(.18, .67, .15))


Sharpe_ratio <- 
  stock %>%
  mutate(part_mean_x = x*p_x, 
         part_mean_y = y*p_y,
         mean_x = sum(part_mean_x),
         mean_y = sum(part_mean_y),
         part_var_x = p_x * (mean_x - x)^2, 
         part_var_y = p_y * (mean_y - y)^2,
         var_x = sum(part_var_x), 
         var_y = sum(part_var_y),
         sd_x = sqrt(var_x), 
         sd_y = sqrt(var_y)) %>% 
  summarise(S_x = (mean_x - 0.015)/sd_x,
            S_y = (mean_y - 0.015)/sd_y)
```

# Your turn

[Click here](https://stats1010-f22.github.io/website/ae/ae-8.html) or the qr code below

```{r, eval=TRUE, echo=FALSE}
library(qrcode)
qr <- qr_code("https://stats1010-f22.github.io/website/ae/ae-9.html")
plot(qr)
```
